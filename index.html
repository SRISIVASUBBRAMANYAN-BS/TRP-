<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ribbon & Bow - Video Experience</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            width: 100%;
            height: 100vh;
            overflow: hidden;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #000;
        }

        /* Video Background - Always visible, plays only after cut */
        #video-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: 1;
        }

        /* Semi-transparent overlay until video plays */
        .video-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 5;
            transition: opacity 0.6s ease-out;
            pointer-events: none;
        }

        .video-overlay.hidden {
            opacity: 0;
        }

        /* Container for ribbon and bow */
        .ribbon-container {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 10;
            cursor: crosshair;
            width: 100%;
            height: 250px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Ribbon - horizontal full width, thinner, realistic */
        .ribbon-wrapper {
            position: absolute;
            width: 100%;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .ribbon-left {
            flex: 1;
            height: 40px;
            background: linear-gradient(180deg, #3d4a9e 0%, #2B3482 50%, #1a1f52 100%);
            box-shadow: 
                inset 0 2px 4px rgba(255, 255, 255, 0.2),
                inset 0 -2px 4px rgba(0, 0, 0, 0.4),
                0 4px 12px rgba(43, 52, 130, 0.4);
            position: relative;
            transition: transform 0.3s ease-out;
        }

        .ribbon-right {
            flex: 1;
            height: 40px;
            background: linear-gradient(180deg, #3d4a9e 0%, #2B3482 50%, #1a1f52 100%);
            box-shadow: 
                inset 0 2px 4px rgba(255, 255, 255, 0.2),
                inset 0 -2px 4px rgba(0, 0, 0, 0.4),
                0 4px 12px rgba(43, 52, 130, 0.4);
            position: relative;
            transition: transform 0.3s ease-out;
        }

        /* Cut effect - ribbon splits apart */
        .ribbon-left.cut {
            animation: ribbonLeftSlide 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        .ribbon-right.cut {
            animation: ribbonRightSlide 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        @keyframes ribbonLeftSlide {
            0% {
                transform: translateX(0) rotateZ(0deg);
                opacity: 1;
            }
            30% {
                transform: translateX(-80px) translateY(80px) rotateZ(-15deg);
                opacity: 1;
            }
            60% {
                transform: translateX(-120px) translateY(240px) rotateZ(-25deg);
                opacity: 0.7;
            }
            100% {
                transform: translateX(-100px) translateY(500px) rotateZ(-35deg);
                opacity: 0;
            }
        }

        @keyframes ribbonRightSlide {
            0% {
                transform: translateX(0) rotateZ(0deg);
                opacity: 1;
            }
            30% {
                transform: translateX(80px) translateY(80px) rotateZ(15deg);
                opacity: 1;
            }
            60% {
                transform: translateX(120px) translateY(240px) rotateZ(25deg);
                opacity: 0.7;
            }
            100% {
                transform: translateX(100px) translateY(500px) rotateZ(35deg);
                opacity: 0;
            }
        }

        /* Bow - Golden yellow, centered */
        .bow {
            position: absolute;
            width: 140px;
            height: 110px;
            z-index: 15;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Bow loops */
        .bow-left, .bow-right {
            position: absolute;
            width: 65px;
            height: 75px;
            background: linear-gradient(135deg, #FFD700 0%, #E3B424 50%, #DAA520 100%);
            border-radius: 50% 50% 40% 40%;
            box-shadow: 
                inset -8px -8px 15px rgba(0, 0, 0, 0.25),
                inset 5px 5px 10px rgba(255, 255, 255, 0.3),
                0 8px 20px rgba(227, 180, 36, 0.4);
        }

        .bow-left {
            left: 0;
            transform: rotateY(15deg);
        }

        .bow-right {
            right: 0;
            transform: rotateY(-15deg);
        }

        /* Bow center knot */
        .bow-center {
            position: absolute;
            width: 50px;
            height: 60px;
            background: radial-gradient(circle at 35% 35%, #FFE66D, #E3B424);
            border-radius: 50%;
            z-index: 5;
            box-shadow: 
                inset -6px -6px 12px rgba(0, 0, 0, 0.3),
                inset 4px 4px 8px rgba(255, 255, 255, 0.4),
                0 6px 15px rgba(227, 180, 36, 0.5);
            border: 2px solid #D4A520;
        }

        /* Cut animations for bow */
        .bow.cut .bow-left {
            animation: bowLeftFall 1.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        .bow.cut .bow-right {
            animation: bowRightFall 1.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        .bow.cut .bow-center {
            animation: bowCenterFall 1.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        @keyframes bowLeftFall {
            0% {
                transform: rotateY(15deg) translateY(0) rotateX(0deg) rotateZ(0deg);
                opacity: 1;
            }
            25% {
                transform: rotateY(15deg) translateY(80px) translateX(-60px) rotateX(30deg) rotateZ(-20deg);
                opacity: 1;
            }
            50% {
                transform: rotateY(15deg) translateY(180px) translateX(-100px) rotateX(-20deg) rotateZ(-45deg);
                opacity: 1;
            }
            75% {
                transform: rotateY(15deg) translateY(300px) translateX(-120px) rotateX(40deg) rotateZ(-70deg);
                opacity: 0.6;
            }
            100% {
                transform: rotateY(15deg) translateY(450px) translateX(-150px) rotateX(-30deg) rotateZ(-90deg);
                opacity: 0;
            }
        }

        @keyframes bowRightFall {
            0% {
                transform: rotateY(-15deg) translateY(0) rotateX(0deg) rotateZ(0deg);
                opacity: 1;
            }
            25% {
                transform: rotateY(-15deg) translateY(80px) translateX(60px) rotateX(30deg) rotateZ(20deg);
                opacity: 1;
            }
            50% {
                transform: rotateY(-15deg) translateY(180px) translateX(100px) rotateX(-20deg) rotateZ(45deg);
                opacity: 1;
            }
            75% {
                transform: rotateY(-15deg) translateY(300px) translateX(120px) rotateX(40deg) rotateZ(70deg);
                opacity: 0.6;
            }
            100% {
                transform: rotateY(-15deg) translateY(450px) translateX(150px) rotateX(-30deg) rotateZ(90deg);
                opacity: 0;
            }
        }

        @keyframes bowCenterFall {
            0% {
                transform: translateY(0) rotateZ(0deg);
                opacity: 1;
            }
            30% {
                transform: translateY(100px) rotateZ(30deg);
                opacity: 1;
            }
            60% {
                transform: translateY(240px) rotateZ(-40deg);
                opacity: 0.8;
            }
            100% {
                transform: translateY(420px) rotateZ(60deg);
                opacity: 0;
            }
        }

        /* End screen */
        .end-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            z-index: 20;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s ease-in;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .end-screen.show {
            opacity: 1;
            pointer-events: auto;
        }

        .end-image {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            animation: fadeInScale 0.8s ease-out;
        }

        @keyframes fadeInScale {
            0% {
                opacity: 0;
                transform: scale(0.95);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* Interaction hint */
        .hint {
            display: none;
        }

        /* Cut detection canvas */
        #cutCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 9;
            cursor: crosshair;
            display: block;
        }

        #cutCanvas.hidden {
            display: none;
            cursor: default;
        }

        /* Mobile friendly */
        @media (max-width: 768px) {
            .ribbon-left, .ribbon-right {
                height: 30px;
            }

            .bow {
                width: 100px;
                height: 80px;
            }

            .bow-left, .bow-right {
                width: 50px;
                height: 60px;
            }

            .bow-center {
                width: 40px;
                height: 50px;
            }

            .hint {
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <!-- Video Background - visible from start -->
    <video 
        id="video-background" 
        muted 
        playsinline
    >
        <source src="1.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>

    <!-- Dark Overlay until video plays -->
    <div class="video-overlay" id="videoOverlay"></div>

    <!-- Cut detection canvas -->
    <canvas id="cutCanvas"></canvas>

    <!-- Ribbon & Bow Container -->
    <div class="ribbon-container" id="ribbonContainer">
        <div class="ribbon-wrapper" id="ribbonWrapper">
            <div class="ribbon-left" id="ribbonLeft"></div>
            <div class="ribbon-right" id="ribbonRight"></div>
        </div>
        <div class="bow" id="bow">
            <div class="bow-left"></div>
            <div class="bow-right"></div>
            <div class="bow-center"></div>
        </div>
    </div>

    <!-- End Screen -->
    <div class="end-screen" id="endScreen">
        <img id="endImage" class="end-image" src="11.png" alt="Experience Complete">
    </div>

    <script>
        const video = document.getElementById('video-background');
        const ribbonContainer = document.getElementById('ribbonContainer');
        const ribbonLeft = document.getElementById('ribbonLeft');
        const ribbonRight = document.getElementById('ribbonRight');
        const bow = document.getElementById('bow');
        const hint = document.getElementById('hint');
        const videoOverlay = document.getElementById('videoOverlay');
        const endScreen = document.getElementById('endScreen');
        const endImage = document.getElementById('endImage');
        const cutCanvas = document.getElementById('cutCanvas');
        const cutCtx = cutCanvas.getContext('2d');

        let isActivated = false;
        let isDrawing = false;
        let lastX = 0;
        let lastY = 0;

        function resizeCanvas() {
            cutCanvas.width = window.innerWidth;
            cutCanvas.height = window.innerHeight;
        }
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        function getRibbonBounds() {
            const rect = ribbonContainer.getBoundingClientRect();
            return {
                left: 0,
                right: window.innerWidth,
                top: rect.top - 30,
                bottom: rect.bottom + 30
            };
        }

        function checkCutCollision(x1, y1, x2, y2) {
            const bounds = getRibbonBounds();
            
            const minY = Math.min(y1, y2);
            const maxY = Math.max(y1, y2);
            
            return maxY >= bounds.top && minY <= bounds.bottom;
        }

        cutCanvas.addEventListener('mousedown', (e) => {
            if (isActivated) return;
            isDrawing = true;
            lastX = e.clientX;
            lastY = e.clientY;
        });

        cutCanvas.addEventListener('mousemove', (e) => {
            if (!isDrawing || isActivated) return;

            const x = e.clientX;
            const y = e.clientY;

            if (checkCutCollision(lastX, lastY, x, y)) {
                cutRibbon();
            }

            lastX = x;
            lastY = y;
        });

        cutCanvas.addEventListener('mouseup', () => {
            isDrawing = false;
        });

        cutCanvas.addEventListener('touchstart', (e) => {
            if (isActivated) return;
            const touch = e.touches[0];
            isDrawing = true;
            lastX = touch.clientX;
            lastY = touch.clientY;
        });

        cutCanvas.addEventListener('touchmove', (e) => {
            if (!isDrawing || isActivated) return;
            e.preventDefault();

            const touch = e.touches[0];
            const x = touch.clientX;
            const y = touch.clientY;

            if (checkCutCollision(lastX, lastY, x, y)) {
                cutRibbon();
            }

            lastX = x;
            lastY = y;
        });

        cutCanvas.addEventListener('touchend', () => {
            isDrawing = false;
        });

        document.addEventListener('touchmove', (e) => {
            if (e.target === cutCanvas) {
                e.preventDefault();
            }
        }, { passive: false });

        function cutRibbon() {
            if (isActivated) return;
            
            isActivated = true;
            isDrawing = false;

            ribbonLeft.classList.add('cut');
            ribbonRight.classList.add('cut');
            bow.classList.add('cut');

            cutCanvas.classList.add('hidden');

            setTimeout(() => {
                ribbonContainer.style.display = 'none';
                videoOverlay.classList.add('hidden');
                video.play();
            }, 500);
        }

        video.addEventListener('ended', () => {
            video.pause();
            
            setTimeout(() => {
                endImage.src = '11.png';
                endScreen.classList.add('show');
            }, 300);
        });

        video.muted = true;
    </script>
</body>
</html>
